# Что такое Docker?
- [ ] Операционная система для виртуализации
- [ ] Облачная платформа для хранения данных
- [x] Платформа для создания, управления, развертывания и запуска приложений в контейнерах
- [ ] Командная оболочка для запуска веб-серверов

## :desc
[Docker](https://ru.wikipedia.org/wiki/Docker) - это платформа для создания, управления, развертывания и запуска приложений в контейнерах. Контейнеры позволяют упаковывать приложения со всеми их зависимостями в стандартизированные единицы для обеспечения простоты развертывания и переноса между различными средами.

---

# Что такое Docker-образ (image)?
- [ ] Файл установки Docker'a
- [x] Стандартизированная единица для упаковки приложения со всеми его зависимостями
- [ ] Образ операционной системы для установки
- [ ] Архивированное с зависимостями приложение

## :desc
Docker-образ (image) представляет собой стандартизированную единицу для упаковки и хранения приложения вместе со всеми его зависимостями, такими как библиотеки, конфигурационные файлы и другие компоненты, необходимые для его запуска и работы. Это обеспечивает переносимость приложения и предсказуемость его поведения в любой среде, где установлен Docker.

---

# Что такое Docker-контейнер (container)?
- [ ] Виртуальная машина
- [x] Запущенный Docker-образ
- [ ] Экземпляр Docker-хранилища данных
- [ ] Фоновый процесс (демон)

## :desc
Docker-контейнер (container) — это запущенный экземпляр Docker-образа. Контейнер изолирует работу приложения в собственном окружении со всеми необходимыми зависимостями, что позволяет запускать его одинаково на любой системе где есть Docker. Можно сказать, что это своеобразный "исполняемый файл", который, помимо исполнения приложения, создаёт заранее описанное окружение для его запуска.

---

# Какое преимущество предоставляют Docker-контейнеры?
- [ ] Высокая производительность
- [ ] Большой объем памяти
- [x] Портативность, легкость развертывания и конфигурации
- [ ] Повышенная безопасность

---

# Что такое Docker Hub?
- [ ] Облачная платформа для хранения данных
- [x] Сервис для хранения и распространения Docker-образов
- [ ] Форум для обсуждения тем, связанных с Docker
- [ ] Социальная сеть Docker-разработчиков

## :desc
Docker Hub — это сервис для хранения и распространения Docker-образов. Он предоставляет централизованное хранилище, где разработчики могут публиковать, находить и загружать Docker-образы.

*Хранение образов*
Docker Hub позволяет сохранять образы в публичных и частных репозиториях. Публичные образы доступны всем пользователям, в то время как доступ к частным образам ограничен.

*Поиск образов*
Пользователи могут искать и находить официальные образы популярных приложений, таких как Nginx, Redis, MySQL и многие другие, что упрощает настройку и развертывание этих приложений.

*Автоматические сборки*
Docker Hub поддерживает автоматические сборки образов из репозиториев GitHub и Bitbucket. Это позволяет автоматически создавать образы при каждом изменении исходного кода.

*Веб-интерфейс и API*
Docker Hub предоставляет удобный веб-интерфейс для управления образами и репозиториями, а также API для интеграции с другими инструментами.

---

# Что такое Dockerfile?
- [ ] Файл для настройки платформы Docker
- [ ] Скрипт для развертывания приложения
- [ ] Файл-ключ для получения доступа к Docker-контейнеру
- [x] Файл с инструкциями для создания Docker-образа

## :desc
Dockerfile — это текстовый файл, содержащий набор инструкций для создания Docker-образа. Эти инструкции определяют, какие действия необходимо выполнить для сборки образа, включая установку программного обеспечения, копирование файлов, настройку окружения и выполнение команд.

Основные инструкции:
- `FROM`: Указывает базовый образ, на основе которого будет создан новый образ.
- `WORKDIR`: Устанавливает рабочую директорию для следующих инструкций `RUN`, `CMD`, `ENTRYPOINT`, `COPY` и `ADD`.
- `COPY` и `ADD`: Используются для копирования файлов и директорий в образ из локальной файловой системы или внешних URL.
- `RUN`: Выполняет команды в процессе сборки образа, такие как установка программного обеспечения.
- `CMD` и `ENTRYPOINT`: Определяют команду, которая будет выполнена при запуске контейнера.
- `EXPOSE`: Указывает, какие порты будут открыты в контейнере для взаимодействия с внешними приложениями.
- `ENV`: Устанавливает переменные окружения внутри контейнера.

---

# Какая команда используется для создания нового образа из Dockerfile?
- [ ] `docker run`
- [ ] `docker create`
- [x] `docker build`
- [ ] `docker commit`

## :desc
Команда `docker build` используется для создания Docker-образа из `Dockerfile` и контекста. `Dockerfile` содержит набор инструкций, которые Docker использует для создания образа. Контекст обычно представляет собой текущий каталог и все его подкаталоги.

Пример использования:
```sh
docker build -t my-image .
```
В этом примере создается Docker-образ с именем `my-image` на основе инструкций, указанных в Dockerfile в текущем каталоге (`.`).

Наиболее полезные параметры команды:
  `-t, --tag` - позволяет задать имя и тег для создаваемого образа.
  `-f, --file` - указывает путь к Dockerfile, если он находится не в корне контекста сборки.
  `--build-arg` - позволяет передавать аргументы в Dockerfile во время сборки.

---

# Что делает команда `docker pull`?
- [ ] Отправляет локальный образ в Docker Hub
- [ ] Получает из git-репозитория Dockerfile
- [ ] Запускает контейнер из образа хранящегося в Docker Hub
- [x] Загружает образ из Docker Hub или другого реестра

## :desc
Команда `docker pull` используется для загрузки Docker-образа из Docker Hub или другого реестра образов в локальное хранилище. Она позволяет получать и обновлять образы из удаленных реестров, что необходимо для создания и запуска контейнеров на основе этих образов.

Пример использования:
```sh
docker pull ubuntu:latest
```
В этом примере загружается последняя версию образа Ubuntu из Docker Hub в локальное хранилище образов.

---

# Какая команда используется для отображения списка всех Docker-образов?
- [ ] `docker ps`
- [x] `docker images`
- [ ] `docker containers`
- [ ] `docker list`

## :desc
Команда `docker images` используется для отображения списка всех Docker-образов, которые находятся в локальном хранилище.

Основные функции `docker images`:
- **Отображение списка образов**: Показывает все локально сохраненные образы, их теги, идентификаторы, дату создания и размер.
- **Фильтрация и сортировка**: С помощью различных параметров можно фильтровать и сортировать вывод по определенным критериям.

Пример использования:
```sh
docker images
```

---

# Какой командой можно создать новый контейнер из образа в Docker?
- [ ] `docker build`
- [ ] `docker create`
- [x] `docker run`
- [ ] `docker start`

## :desc
Команда `docker run [image_id|repository]` создает и запускает новый контейнер из образа.

Пример использования:
```sh
docker run -d --name my-container my-image
```
В этом примере из образа `my-image` запускается Docker-контейнер с именем `my-container` в фоновом режиме (`-d`).

Наиболее полезные параметры команды:
  `-d, --detach` - запускает контейнер в фоновом режиме (detach).
  `--name` - присваивает имя контейнеру.
  `-p, --publish` - публикует (мапит/пробрасывает) порты хоста на порты контейнера.

---

# Какая команда используется для отображения списка всех контейнеров?
- [x] `docker ps`
- [ ] `docker images`
- [ ] `docker list`
- [ ] `docker containers`

## :desc
Команда `docker ps` выводит список запущенных контейнеров. С ключом `-a` можно увидеть все контейнеры, включая остановленные.

Пример использования:
```sh
docker ps -a
```
В этом примере выводится список всех контейнеров, включая те, которые остановлены, находятся в состоянии завершения или имеют статус "created".

Наиболее полезные параметры команды:
  `-a, --all` - показать все контейнеры (включая остановленные).
  `-q, --quiet` - выводить только идентификаторы контейнеров.
  `--filter` - фильтровать контейнеры по заданным критериям.

---

# Какая команда используется для корректной остановки работающего контейнера?
- [ ] `docker kill`
- [ ] `docker pause`
- [x] `docker stop`
- [ ] `docker remove`

## :desc
Команда `docker stop [container_id|container_name]` останавливает работающий контейнер, корректно завершая его процессы. Достигается это с помощью того, что основному процессу внутри контейнера посылается сигнал `SIGTERM` и даётся некоторое время, по умолчанию 10 секунд, для корректного завершения работы. Но при истечении периода ожидания посылается сигнал принудительного завершения - `SIGKILL`.

Пример использования:
```sh
docker stop my-container -t 60
```
В этом примере команда останавливает работающий Docker-контейнер с именем `my-container`, давая ему 60 секунд на завершение всех текущих операций перед принудительным завершением.

Наиболее полезные параметры команды:
  `-t, --time` - количество секунд ожидания перед принудительным завершением контейнера.

---

# Чем `docker stop` отличается от `docker kill`?
- [x] `docker stop` корректно завершает работу контейнера, отправляя сигнал `SIGTERM`, затем `SIGKILL` после указанного времени ожидания, тогда как `docker kill` немедленно завершает контейнер, отправляя сигнал `SIGKILL`.
- [ ] `docker stop` удаляет контейнер после его остановки, а `docker kill` только останавливает контейнер.
- [ ] `docker stop` останавливает все контейнеры, а `docker kill` останавливает только один указанный контейнер.
- [ ] `docker stop` используется только для работающих контейнеров, а `docker kill` можно использовать и для остановленных контейнеров.

## :desc
Команда `docker stop` и команда `docker kill` предназначены для остановки работающих контейнеров, но делают это по-разному.

`docker stop`: Корректно завершает работу контейнера. Сначала отправляет сигнал `SIGTERM`, давая приложению время для завершения работы и очистки ресурсов. Если контейнер не завершится в течение заданного времени (по умолчанию 10 секунд, можно изменить с помощью параметра `-t`), Docker отправит сигнал `SIGKILL`, чтобы принудительно завершить контейнер.

`docker kill`: Немедленно завершает работу контейнера, отправляя сигнал `SIGKILL`. Этот сигнал не дает контейнеру времени для корректного завершения работы и очистки ресурсов.

Использование `docker stop` предпочтительно, когда необходимо корректно завершить работу контейнера, тогда как `docker kill` подходит для немедленного завершения контейнера в критических ситуациях.

---

# Что делает команда `docker inspect`?
- [ ] Проводит анализ безопасности контейнера
- [ ] Обновляет образ до последней версии
- [ ] Выводит статистику использования ресурсов системы контейнером
- [x] Показывает детальную информацию о Docker-образе или контейнере

## :desc
Команда `docker inspect [container_id|container_name]` используется для получения детальной информации о Docker-образе, контейнере или других Docker-объектах. Она выводит данные в формате JSON, которые отображают разнообразные конфигурации и метаданные.

---

# Какой командой можно удалить ненужный образ в Docker?
- [ ] `docker delete`
- [ ] `docker rm`
- [x] `docker image rm`
- [ ] `docker image delete`

## :desc
Команда `docker image rm [image_id|image_name]` используется для удаления образов. Она позволяет освободить место и очистить локальный репозиторий образов.

Пример использования:
```sh
docker image rm my-image
```
В этом примере команда удаляет Docker-образ с именем `my-image` из локального репозитория образов.

Наиболее полезные параметры команды:
  - `-f, --force` - принудительно удалить образ.
  - `--no-prune` - не удалять неиспользуемые родительские образы.

---

# Что значит "замапленные порты" в контексте Docker-контейнера?
- [ ] Порты, которые используются только внутри контейнера
- [ ] Порты, которые закрыты чтобы избежать угроз безопасности
- [x] Порты, которые сопоставлены между контейнером и хост-машиной
- [ ] Порты, которые зарезервированы для сетевого взаимодействия между контейнерами

## :desc
"Замапленные порты" или "проброшенные порты" в контексте Docker-контейнера означают, что порты контейнера сопоставлены с портами хост-машины. Это позволяет внешним пользователям или другим службам на хост-машине обращаться к сервисам, запущенным внутри контейнера, через указанные порты.

Пример использования:
```sh
docker run -d -p 8080:80 my-image
```
В данном примере происходит запуск образа `my-image` с пробросом портов 8080 (хост) -> 80 (контейнер). Это приводит к тому, что все запросы, приходящие на порт 8080 хост-машины, перенаправляются на порт 80 внутри контейнера. Что позволяет получить доступ к сервису на порту 80 контейнера через порт 8080 на хосте.

Таким образом, "замапленные порты" позволяют приложениям внутри контейнеров взаимодействовать с внешним миром через определенные порты хост-машины.

---

# В каком разделе отчёта `docker inspect` можно увидеть информацию о том, какие порты замаплены?
- [ ] Config
- [ ] State
- [ ] Mounts
- [x] NetworkSettings

## :desc
Информация о замапленных портах в выводе команды `docker inspect` содержится в разделе `NetworkSettings`, подразделе `Ports`. В этом подразделе можно найти детали о портах, которые сопоставлены между контейнером и хост-машиной. Но также эту информацию можно получить из раздела `HostConfig`.

---

# Что делает команда `docker exec`?
- [ ] Запускает новый контейнер из указанного Dockerfile
- [ ] Подключает внешнюю командную оболочку к работающему контейнеру
- [ ] Принудительно оптимизирует запущенный контейнер
- [x] Выполняет команду в запущенном контейнере

## :desc
Команда `docker exec [container_id|container_name]` используется для выполнения команды в уже запущенном контейнере. Это полезно для выполнения задач или диагностики внутри контейнера без необходимости перезапуска.

Пример использования:
```sh
docker exec -d my_container touch /tmp/execWorks
```
В этом примере с помощью команды в фоновом режиме (`-d`) создаётся файл `/tmp/execWorks` внутри работающего контейнера `my_container`.

---

# С помощью какой команды можно войти в работающий контейнер?
- [x] `docker exec -it [container] bash`
- [ ] `docker attach [container]`
- [ ] `docker run -it [container] bash`
- [ ] `docker login [container]`

## :desc
Команда `docker exec -it [container_id|container_name] bash` позволяет войти в работающий контейнер и использовать указанную командную оболочку. В данном случае `bash`.

Пример использования:
```sh
docker exec -it 163693ed623c bash
```
В этом примере происходит запуск интерактивной командной оболочки `bash` внутри запущенного контейнера с id `163693ed623c`, предоставляя доступ к нему доступ из вне.


Наиболее полезные параметры команды:
  `-i, --interactive` - запуск в интерактивном режиме.
  `-t, --tty` - включение псевдотерминала.

---

# Для каких целей мапятся (сопоставляются/пробрасываются) сетевые порты при запуске контейнера?
- [ ] Для доступа контейнера к внешним сервисам
- [ ] Для защиты контенера от внешних угроз
- [x] Для обеспечения доступа к сервисам внутри контейнера из вне
- [ ] Для удалённого управления контейнером

## :desc
Замапленные порты позволяют перенаправлять сетевой трафик с порта хост-машины на порт внутри Docker-контейнера. Это необходимо для того, чтобы внешние пользователи или другие службы на хост-машине могли взаимодействовать с сервисами, работающими внутри контейнера.

Например, если на `localhost` запустить контейнер веб-сервера `nginx` с мапингом `80:80` (`[host]:[container]`) -> `docker run -p 80:80 nginx`, то из браузера на хосте можно будет к этому серверу обратиться по адресу `localhost:80`. Если мапинга бы не было, то этого бы не получилось, так как извне веб-сервер в контейнере был бы недоступен.

---

# Какой ключ используется с командой `docker ps`, чтобы показать все контейнеры, включая остановленные?
- [x] `-a`
- [ ] `-l`
- [ ] `-q`
- [ ] `-n`

---

# Какая команда используется для просмотра логов контейнера?
- [ ] `docker exec log`
- [ ] `docker events`
- [x] `docker logs`
- [ ] `docker history`

## :desc
Команда `docker logs [container_id|container_name]` выводит логи указанного контейнера, что позволяет отслеживать его поведение и диагностику.

Наиболее полезные параметры команды:
  `-f, --follow` - следить за обновлениями логов в реальном времени.
  `--tail` - выводить только последние строки логов.

---

# Какой командой можно сохранить контейнер в виде docker-образа?
- [ ] `docker save`
- [x] `docker commit`
- [ ] `docker export`
- [ ] `docker image save`

## :desc
Команда `docker commit` создает новый docker-образ из контейнера, фиксируя его текущее состояние.

Пример использования:
```sh
docker commit 163693ed623c image-163693ed623c
```
В этом примере создаётся docker-образ `image-163693ed623c` на основе запущенного контейнера с id `163693ed623c`. В образ фиксируется его текущее состояние.

Наиболее полезные параметры команды:
  `-a, --author` - указать автора коммита.
  `-m, --message` - добавить сообщение к коммиту.

---

# Что делает команда `docker restart`?
- [ ] Перезапускает службу Docker
- [ ] Перезапускает контейнер "на ходу" без его остановки
- [ ] Обновляет образ контейнера до последней версии
- [x] Останавливает и затем перезапускает контейнер

## :desc
Команда `docker restart [container_id|container_name]` останавливает указанный контейнер и затем перезапускает его. Это полезно для применения изменений конфигурации или для восстановления контейнера после сбоя.

Пример использования:
```sh
docker restart -t 30 my-container
```
В этом примере команда останавливает контейнер с именем `my-container`, давая ему 30 секунд (`-t`) для завершения работы, и затем перезапускает его.

Наиболее полезные параметры команды:
  `-t, --time` - количество секунд ожидания перед принудительным завершением и перезапуском контейнера.

---

# Что такое docker-compose?
- [ ] Инструмент для сжатия работующих контейнеров
- [ ] Инструмент для сжатия образов
- [x] Инструмент для определения и запуска многоконтейнерных Docker-приложений
- [ ] Инструмент для мониторинга контейнеров

## :desc
`docker-compose` — это инструмент для определения и запуска многоконтейнерных Docker-приложений. С помощью файла `docker-compose.yml` можно определить конфигурацию всех контейнеров, сетей и томов, необходимых для приложения, и управлять их запуском и остановкой одной командой.

---

# Какой файл используется для конфигурации многоконтейнерного приложения с помощью Docker Compose?
- [ ] Dockerfile
- [x] docker-compose.yml
- [ ] compose.json
- [ ] DockerConfig

## :desc
Файл `docker-compose.yml` используется для конфигурации и определения многоконтейнерных приложений с помощью Docker Compose. Он содержит инструкции по созданию, настройке и объединению нескольких контейнеров в единое приложение.

---

# Что делает команда `docker-compose build`?
- [ ] Запускает все сервисы, определенные в `docker-compose.yml`
- [x] Собирает образы для всех сервисов, определенных в `docker-compose.yml`
- [ ] Подготавливает Docker-сервис для запуска внешних сервисов
- [ ] Сжимает описанные в `docker-compose.yml` образы

## :desc
Команда `docker-compose build` собирает Docker-образы для всех сервисов, определенных в файле `docker-compose.yml`. Эта команда полезна, когда необходимо создать или обновить образы перед запуском многоконтейнерного приложения.

---

# Какая команда используется для создания и запуска всех сервисов, определенных в `docker-compose.yml`?
- [ ] `docker-compose build`
- [ ] `docker-compose create`
- [x] `docker-compose up`
- [ ] `docker-compose start`

## :desc
Команда `docker-compose up` создаёт и запускает все сервисы, определенные в файле `docker-compose.yml`. Происходит это через создание и запуск контейнеров, сетей и дисковых томов, необходимых для работы приложения.

---

# Как остановить все запущенные сервисы Docker Compose?
- [ ] `docker-compose down`
- [ ] `docker-compose kill`
- [x] `docker-compose stop`
- [ ] `docker-compose pause`

## :desc
Команда `docker-compose stop` останавливает все запущенные контейнеры, определенные в `docker-compose.yml`. При этом контейнеры сохраняются и могут быть перезапущены командой `docker-compose start`.

---

# Как удалить все созданные ресурсы (контейнеры, сети, тома) с помощью Docker Compose?
- [x] `docker-compose down`
- [ ] `docker-compose remove`
- [ ] `docker-compose clean`
- [ ] `docker-compose destroy`

## :desc
Команда `docker-compose down` удаляет все созданные ресурсы, включая контейнеры, сети и тома, определенные в `docker-compose.yml`. Это полная очистка, которая также может удалить именные тома и сети, созданные с флагом `-v`.

---

# Как пересобрать образы и перезапустить контейнеры с помощью Docker Compose?
- [ ] `docker-compose start --rebuild`
- [ ] `docker-compose up --force`
- [ ] `docker-compose recreate`
- [x] `docker-compose up --build`

## :desc
Команда `docker-compose up --build` пересобирает образы и перезапускает контейнеры, используя обновленные версии Dockerfile и другие изменения в конфигурации.

---

# Как посмотреть логи всех сервисов, запущенных с помощью Docker Compose?
- [ ] `docker-compose logs`
- [x] `docker-compose logs -f`
- [ ] `docker-compose log --all`
- [ ] `docker-compose tail`

## :desc
Команда `docker-compose logs -f` показывает логи всех запущенных сервисов в режиме "следования" (follow), что позволяет в реальном времени отслеживать события и сообщения, поступающие от контейнеров.

---

# Как запустить определенный сервис из `docker-compose.yml`?
- [ ] `docker-compose up [service]`
- [ ] `docker-compose run [service]`
- [x] `docker-compose up -d [service]`
- [ ] `docker-compose start [service]`

## :desc
Команда `docker-compose up -d [service]` запускает указанный сервис в фоновом режиме. Это позволяет запускать отдельные сервисы из многоконтейнерного приложения, не запуская все остальные.

---

# Как с помощью `docker-compose` обновить и перезапустить только один сервис без остановки других сервисов?
- [x] `docker-compose up -d --no-deps [service]`
- [ ] `docker-compose up --force-recreate [service]`
- [ ] `docker-compose update [service]`
- [ ] `docker-compose restart [service]`

## :desc
Команда `docker-compose up -d --no-deps [service]` перезапускает указанный сервис без остановки и перезапуска зависимых от него сервисов. Это позволяет обновлять отдельные компоненты приложения.

---

# Что такое Dockle?
- [ ] Инструмент для оптимизации Docker-образов
- [ ] Сервис для обсуждения безопасности Docker-образов
- [x] Инструмент для анализа безопасности Docker-образов
- [ ] Платформа для оркестрации контейнеров

## :desc
Dockle — это инструмент для анализа безопасности Docker-образов. Он сканирует Docker-образы и используемое в нём ПО на предмет наличия уязвимостей и несоответствий лучшим практикам безопасности. В результате анализа Dockle даёт подробные отчёты о найденных проблемах с рекомендациями по их устранению. Это помогает разработчикам создавать более безопасные контейнеры.

Пример использования Dockle:
```sh
dockle my-image
```
В этом примере целью анализа Dockle выбирается docker-образ `my-image`.

---